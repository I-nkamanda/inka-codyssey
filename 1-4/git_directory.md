# Version 관리 시스템 3 종류

0. 버전 관리 시스템이란?
    버전 관리 시스템(Version Control Syste, VCS)은, 파일의 변화를 시간에 따라 기록했다가, 나중에 특정 시점의 버전을 다시 꺼내올 수 있는 시스템이다. 버전 관리 프로그램으로 주로 관리하는 것은 소프트웨어 소스 코드지만, 실제로는 거의 모든 컴퓨터 파일의 버전을 관리할 수 있다.
    예컨대, 그래픽 디자이너나 웹 디자이너도 이미지나 레이아웃의 체인지-로그를 VCS로 관리할 수 있는 것이다.
    소프트웨어에 문제가 생길 때 파일 / 프로젝트 등을 이전 상태로 돌릴 수도 있고, 누가 문제를 일으켰는지, 파일을 잃어버리거나 잘못 수정했을 때도 쉽게 복구가 가능하다.

    그럼 세 가지 주요 버전 관리 시스템(VCS)에 대해서 알아보자.

1. 로컬 버전 관리 시스템 (Local VCS)
    - Local 컴퓨터-그러므로 PC 1대-에서 버전 관리를 하는 것이다.
    - 익숙한  예를 들자면 프레젠테이션 보고자료 초안인 [(rough).ppt] 가 어느새 수십 개의 iteration을 거쳐서 [최최최종-final-보고자료(제출본).ppt] 로 최종 진화하는 것을 많이 보는데, 이것을 프로그램이 대신 관리해주는 것이다.
    - 프로그램은 간단한 데이터베이스를 활용해서 파일의 변경 정보(일반적으로 Patch Set이라고 불리는)를 관리하며, 대표적으로 RCS (Revision Control System)이 있다.
    - 장점:  매우 간단하고 빠르며, 심지어 인터넷도 필요 없지만(C'est local!!), 
    - 단점: 자체적으로 백업 기능이 있지 않아서 컴퓨터를 날리면 끝나는 것이고, 그리고 여러 사람이 작업을 하려면 한 컴퓨터를 돌려써야 한다는 문제가 있다.


2. 중앙집중식 버전 관리 시스템 (Central VCS)
    - 중앙 서버 하나가 모든 버전을 관리하는 시스템이다. 여러 사람들이 작업할 때 Local VCS에서 생길 법한 애로사항을 해결하기 위해 개발되었다.
    - CVS, Subversion(SVN), Perforce 같은 시스템은 파일을 관리하는 서버가 별도로 있고 - 클라이언트는 그 옛날의 도서관 -색인목록을 제출하면 사서가 책을 가져다 주는-마냥 중앙 서버에서 파일을 checkout해서 사용한다.
    - 사용자는 중앙 서버에서 파일을 가져오고, 수정본을 다시 올릴 수도 있다 (commit/push)
    - 장점: 모두 누가 무엇을 하고 있는지 알 수 있고, 관리자는 누가 무엇을 할 것인지 관리가 편하다.
    - 단점: 중앙 서버가 다운되어버리면 클라이언트들은 타인과 협업이 끊기고, 하던 일을 백업할 방법도 없다. 또한 , 중앙 데이터베이스의 메모리장치가 뻑나면 프로젝트의 모든 히스토리를 잃게 된다.  (클라이언트에 저장된 스냅샷은 그대로 있지만)


3. 분산 버전 관리 시스템 (Distributes VCS)
    - DVCS 에서의 클라이언트는 단순히 파일의 마지막 snapshot을 Checkout하는 데서 끝나는 게 아니라, 그냥 저장소를 전부 복제한다. 모든 Checkout은 모든 데이터를 가지고 있기 때문에 서버에 문제가 생기면 이 복제물로 다시 작업을 시작할 수 있다. (쌍방향) 그렇기 때문에 아무 클라이언트에서도 서버를 복원할 수 있으며, 
    - 대부분의 DVCS 환경에서는 Remote 저장소가 존재한다 (하드 드라이브의 RAID 1 같은 개념으로 이해 중) Remote 저장소가 다수 있을 수 있으므로, 동시에 다양한 그룹과 다양한 방법으로 협업할 수 있다. 말인즉슨 Central VCS 와 같이 hierarchical 시스템으로는 불가능한 다양한 워크플로우가 존재할 수 있다는 말이다.
    - 상용 DVCS로는 Git, Mercurial, Bitkeeper 등이 있다.
    - Git의 탄생비화: Bitkeeper가 유료화 선언을 하자 분노한 리누스 토르발즈(Linux 개발자)가 직접 Git을 2005년에 만들어냈다.
    - 장점: 인터넷이 없어도 local에서 버전 관리가 가능하고, 내 local에도 모든 기록이 있으니 백업이 매우 강력하다. 또한, 오프라인에서 작업하다가 나중에 동기화가 가능하다는 것도 매우 큰 장점이다.
    - 단점: 모든 기록을 다 복사 -> 저장소 크기가 매우 크며, 초반 개념이  Local / Central VCS보다 이해하기 확실히 어렵다.




# .git 디렉토리의 역할, 그리고 그 의미
- 
    - .git 디렉토리란: git init을 할 떄 생성되는 (숨김 표시된) 폴더이며, **여기가 Git repository다** 라고 알려주는 표식. 그리고 여기에 **모든 버전의 관리 정보**가 저장되는 *핵심*디렉토리이기도 하다.
    - Git은 이 .git 디렉토리를 인식하면 해당 폴더를 버전 관리 대상 폴더로 인식한다.
    - .git 디렉토리 안에는:
         HEAD: 내가 현재 작업중인 branch가 어디인지 알려주는 역할
         config: 이메일, 이름, remote repository 주소 등의 사용자 설정
         objects/ : 실제 commit 된 파일들의 data 및 history
         refs/ : branch와 tag가 어디를 가리키는지 기록
         logs/ : commit 및 branch 이동 기록 
    등의 요소가 들어가 있다.

    - repository에서 .git 폴더가 사라진다면 버전 관리가 전부 사라지지만, 폴더 자체의 코드 파일은 그대로 남음.
    - 반대로 .git 폴더만 복체하면 history, 브랜치 정보까지 그대로 복제 가능하므로 Git repository를 백업하려면 .git 폴더만 있으면 충분하다.


